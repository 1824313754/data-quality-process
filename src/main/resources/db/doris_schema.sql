CREATE TABLE `error_data`
(
    `vin`                         varchar(255) NULL,
    `ctime`                       datetime NULL,
    `time`                        datetime NULL,
    `day_of_year`                 date NULL,
    `vehicleFactory`              varchar(255) NULL,
    `vehicleStatus`               int NULL,
    `chargeStatus`                int NULL,
    `speed`                       int NULL,
    `mileage`                     int NULL,
    `totalVoltage`                int NULL,
    `totalCurrent`                int NULL,
    `soc`                         int NULL,
    `dcStatus`                    int NULL,
    `gears`                       int NULL,
    `insulationResistance`        int NULL,
    `operationMode`               int NULL,
    `batteryCount`                int NULL,
    `batteryNumber`               int NULL,
    `cellCount`                   int NULL,
    `maxVoltagebatteryNum`        int NULL,
    `maxVoltageSystemNum`         int NULL,
    `batteryMaxVoltage`           int NULL,
    `minVoltagebatteryNum`        int NULL,
    `minVoltageSystemNum`         int NULL,
    `batteryMinVoltage`           int NULL,
    `maxTemperature`              int NULL,
    `maxTemperatureNum`           int NULL,
    `maxTemperatureSystemNum`     int NULL,
    `minTemperature`              int NULL,
    `minTemperatureNum`           int NULL,
    `minTemperatureSystemNum`     int NULL,
    `subsystemVoltageCount`       int NULL,
    `subsystemVoltageDataNum`     int NULL,
    `subsystemTemperatureCount`   int NULL,
    `subsystemTemperatureDataNum` int NULL,
    `temperatureProbeCount`       int NULL,
    `longitude`                   bigint NULL,
    `latitude`                    bigint NULL,
    `customField`                 text NULL,
    `cellVoltages`                array<int> NULL,
    `probeTemperatures`           array<int> NULL,
    `deviceFailuresCodes`         array<int> NULL,
    `driveMotorFailuresCodes`     array<int> NULL,
    `issues`                      array<text> NULL,
    `issues_count`                int NULL
) ENGINE=OLAP
DUPLICATE KEY(`vin`, `ctime`)
PARTITION BY RANGE(`time`)()
DISTRIBUTED BY HASH(`vin`) BUCKETS AUTO
PROPERTIES (
"replication_allocation" = "tag.location.offline: 1",
"min_load_replica_num" = "-1",
"bloom_filter_columns" = "ctime",
"is_being_synced" = "false",
"dynamic_partition.enable" = "true",
"dynamic_partition.time_unit" = "DAY",
"dynamic_partition.time_zone" = "Asia/Shanghai",
"dynamic_partition.start" = "-90",
"dynamic_partition.end" = "2",
"dynamic_partition.prefix" = "p",
"dynamic_partition.replication_allocation" = "tag.location.offline: 1",
"dynamic_partition.buckets" = "10",
"dynamic_partition.create_history_partition" = "false",
"dynamic_partition.history_partition_num" = "-1",
"dynamic_partition.hot_partition_num" = "0",
"dynamic_partition.reserved_history_periods" = "NULL",
"dynamic_partition.storage_policy" = "",
"storage_medium" = "hdd",
"storage_format" = "V2",
"inverted_index_storage_format" = "V1",
"compression" = "ZSTD",
"light_schema_change" = "true",
"disable_auto_compaction" = "false",
"enable_single_replica_compaction" = "false",
"group_commit_interval_ms" = "10000",
"group_commit_data_bytes" = "134217728"
); 